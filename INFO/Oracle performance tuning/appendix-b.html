a63
<HTML>
<HEAD>
<META name=vsisbn content="067230886x">
<META name=vstitle content="Oracle Performance Tuning and Optimization">
<META name=vsauthor content="Edward Whalen">
<META name=vsimprint content="Sams">
<META name=vspublisher content="Macmillan Computer Publishing">
<META name=vspubdate content="04/01/96">
<META name=vscategory content="Archive,Databases: Relational Databases">




<TITLE>Oracle Performance Tuning and Optimization:Quick Reference</TITLE>

<!-- HEADER -->

<STYLE type="text/css"> 
 <!--
 A:hover  {
 	color : Red;
 }
 -->
</STYLE>

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<script>
<!--
function displayWindow(url, width, height) {
         var Win = window.open(url,"displayWindow",'width=' + width +',height=' + height + ',resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</script>
<SCRIPT>
<!--
function popUp(url) {
        var Win = window.open(url,"displayWindow",'width=400,height=300,resizable=1,scrollbars=yes');
	if (Win) {
		Win.focus();
	}
}
//-->
</SCRIPT>

<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//-->
</script>

</HEAD>

<body background="/images/back.jpg" bgcolor="#FFFFFF" link="#003399" alink="#FF0000" vlink="#003399" topmargin=0 leftmargin=0 marginheight=0 marginwidth=0>

<table bgcolor="#003366" width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td colspan="3">
		
		<table width="100%">
			<tr valign="top">
				<td bgcolor="#003366">&nbsp;&nbsp;<a href="http://www.earthweb.com" target="resource window"><img src="/images/ew_logo.jpg" width="109" height="93" vspace="5" alt="EarthWeb" border="0"></a>&nbsp;&nbsp;&nbsp;</td>
				<td bgcolor="#003366" nowrap>

<!--  Begin Ads ITK.BOOKS.DATABASE //-->

<A HREF="/adclick.html/CID=00000349ba50285a00000000/site=corpitk/area=corpitk.books.database/aamsz=468x60" target="_blank"><IMG SRC="http://adimages.earthweb.com/images/ads/spidercatcher.gif?" %%HEIGHT%% %%WIDTH%% ALT="Click Here!"  BORDER="0"></A>


<!-- ITK.BOOKS.DATABASE End Ads //--></td>
				<td bgcolor="#003366" nowrap>

<!--  Begin Ads ITKBAN.FRONT //-->

<A HREF="/adclick.html/CID=00000ac5ba50285a00000000/site=corpitk/area=corpitk.books.database/aamsz=160x60/position=top" target="_blank"><IMG SRC="http://adimages.earthweb.com/images/ads/160x60/spider_catcher160x60.gif?" %%HEIGHT%% %%WIDTH%% ALT=""  BORDER="0"></A>


<!-- ITKBAN.FRONT End Ads //-->
990
</td>
<td><a href="CITK1a2b3c4d5e6f7g8h9idefcon4.html">
<img src="/images/dotblue.gif" border="0" height="1" width="1" align="right"></a></td>
			</tr>
		</table>
		
		</td>
	</tr>
		
	<tr>
		<td height="1" colspan="3" bgcolor="#003366"><img src="/images/dotclear.gif" border=0 alt=""></td>
	</tr>
</table>

<!-- END HEADER -->


<!-- BEGIN SUB HEADER -->

<table bgcolor="#003366" cellpadding="0" cellspacing="0" border="0" width="100%">

<!-- ITK TOPNAV -->
	
	<tr>
		<td align="left" valign="top" nowrap><a href="/"><img src="/images/top_tabs/home_off.gif" alt="Home" border="0"></a><a href="/content/corp.html"><img src="/images/top_tabs/subscribe.gif" alt="Subscribe" border="0"></a><a href="/search/"><img src="/images/top_tabs/search.gif" alt="Search" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq.gif" alt="FAQ" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap.gif" alt="Sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us.gif" alt="Contact Us" border="0"></a></td> 
	</tr>
	
<!-- END of ITK TOPNAV -->

<!-- ITK LOGO and newsletter sign up -->

</table>
	
<table cellpadding="0" cellspacing="0" border="0" width="100%">

	<tr>
		<td align="left" valign="top" nowrap><img src="/images/itk_logo_sm.jpg" alt="" border="0"></td>
		<td align="right"><font face="verdana, sans-serif" size="1">

<script language="JavaScript">
<!-- 

var days = new Array(8);
days[1] = "Sunday";
days[2] = "Monday";
days[3] = "Tuesday";
days[4] = "Wednesday";
days[5] = "Thursday";
days[6] = "Friday";
days[7] = "Saturday";

var months = new Array(13);
months[1] = "January";
months[2] = "February";
months[3] = "March";
months[4] = "April";
months[5] = "May";
months[6] = "June";
months[7] = "July";
months[8] = "August";
months[9] = "September";
months[10] = "October";
months[11] = "November";
months[12] = "December";

var dateObj = new Date()
var wday = days[dateObj.getDay() + 1]
var lmonth = months[dateObj.getMonth() + 1]
var date = dateObj.getDate()
var fyear = dateObj.getYear()
if (fyear <1000) fyear += 1900;
document.write(wday + ", " + lmonth + " " + date + ", " + fyear)
                
//-->
</script>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
<br><br>

<!-- <img src="/images/enterprise_logo.gif" width="254" height="51" border="0"> --></td>
	</tr>
</table>

<!-- END ITK LOGO and newsletter sign up-->
	
<!-- begin of ITK left NAV -->

<!-- BEGIN LEFT NAVBAR -->


1000

<!-- BEGIN LEFT NAVBAR -->

	<table border="0" cellpadding="0" cellspacing="0">
	
	
		<tr>
		<td width="145" valign="top" align="left" rowspan=8>
		
	<!-- KEYWORD SEARCH -->
<script language="JavaScript1.2">
<!--
function checkForQuery(fm) {
  /* get the query value */
  var i = escape(fm.query.value);
  if (i == "") {
      alert('Please enter a search word or phrase');
      return false;
  }                  /* query is blank, dont run the .jsp file */
  else return true;  /* execute the .jsp file */
}
//-->
</script>
 
	
	<form name="keyword" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewkwk2search.jsp" onSubmit=" return checkForQuery(this); ">

<img src="/images/keyword_searcha.gif" vspace="5" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="corpitk">
<INPUT type="hidden" name="altcoll" value="bookscorpitk">
<INPUT type="hidden" name="hl" value="on">
<INPUT name="sortspec" type=hidden value="vspubdate desc score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vsisbn vspublisher vspubdate">		
<INPUT name=imageprefix type=hidden value="http://corpitk.earthweb.com">
<INPUT name=ssiFolder type=hidden value="corpitkads">
		
		<table width="145" border="0" cellpadding="0" cellspacing="0">
		<tr>
		<td width="145">&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br>
			<font face="arial, helvetica" size="2">
			<img src="/images/dotclear.gif" width="1" height="5" alt="" border="0"><br>
			
			&nbsp;&nbsp;<a href="/search/search-tips.html"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Search Tips</font></a><br>
			&nbsp;&nbsp;<a href="/search/"><img src="/images/arrows_blue.gif" alt="" border="0"><font size="1" color="#ffffff">Advanced Search</font></a><br>
			
			</font>
			
		</td>
		<td width="5"><img src="/images/dotclear.gif" width=5 height=10 hspace="5" alt="" border="0"></td>
		</tr>
		</table>
	</form>
		
		
<!-- BROWSE BY TOPIC -->
		

<form name="meta" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewmetak2search.jsp" onSubmit=" return checkForQuery(this); ">



<img src="/images/publication_searcha.gif" width="145" alt="" border="0">
<INPUT type="hidden" name="collection" value="bookscorpitk">
<INPUT type="hidden" name="altcoll" value="corpitk">
<INPUT type="hidden" name="hl" value="on">
<INPUT name="sortspec" type=hidden value="vspubdate desc score desc">
<INPUT name=fields type=hidden value="vdkvgwkey score vstitle vsauthor vspublisher vspubdate">
<INPUT name=imageprefix type=hidden value="http://corpitk.earthweb.com">
<INPUT name=ssiFolder type=hidden value="corpitkads">
		
<table width="145" border="0" cellpadding="0" cellspacing="0">
	
			<tr>
			<td valign="top">
			&nbsp;&nbsp;<input type="text" name="query" value="" size="11">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle><br><font face="arial, helvetica" size="2">
			&nbsp;&nbsp;<SELECT NAME="metatags" style="font-size: 12; font-family: sans-serif;" size="1">
			<option value="vstitle" SELECTED>Title
			<option value="vsauthor">Author
			<option value="vspublisher">Publisher
			<option value="vsisbn">ISBN			
			</SELECT><br><br></font>
			</td>
			</tr>
</table>
</form>

<form action="" name="catlist">	
<table width="145" border="0" cellpadding="0" cellspacing="0">				
			<tr>
			<td valign="top">
			<img src="/images/jump_topica.gif" width="145" alt="" border="0">
			</td>
			</tr>
			<tr>
			<td width="145">
				
	        	<font face="Arial,helvetica" size="1">
				&nbsp;&nbsp;<SELECT NAME="cat" onChange='top.location.href=this.options[selectedIndex].value;' style="font-size: 10; font-family: sans-serif;">
                        <option value="" selected>Please Select
                        <option value="">-----------
						<option value="/reference/dir.ai.html">Artificial Intel
						<option value="/reference/dir.busman.ht
ad1
ml">Business &amp; Mgmt
                        <option value="/reference/dir.components.html">Components
                        <option value="/reference/dir.contentmanagement.html">Content Mgmt
                        <option value="/reference/dir.certification1.html">Certification
                        <option value="/reference/dir.databases.html">Databases
                        <option value="/reference/dir.enterprisemanagement1.html">Enterprise Mgmt
                        <option value="/reference/dir.funandgames1.html">Fun/Games
                        <option value="/reference/dir.groupwareandcollaboration1.html">Groupware
                        <option value="/reference/dir.hardware1.html">Hardware
                        <option value="/reference/dir.ibmredbooks.html">IBM Redbooks
                        <option value="/reference/dir.intranetandextranetdevelopment1.html">Intranet Dev
                        <option value="/reference/dir.middleware.html">Middleware
                        <option value="/reference/dir.multimediaandgraphicdesign1.html">Multimedia
                        <option value="/reference/dir.networkservices1.html">Networks 
                        <option value="/reference/dir.operatingsystems.html">OS
                        <option value="/reference/dir.productivityapplications1.html">Productivity Apps
                        <option value="/reference/dir.programminglanguages.html">Programming Langs
                        <option value="/reference/dir.security1.html">Security  
						<option value="/reference/dir.softwareengineering1.html">Soft Engineering
                        <!-- <option value="/reference/dir.ewtraining1.html">Training Guides -->
                        <option value="/reference/dir.userinterfaces.html">UI
                        <option value="/reference/dir.webservices.html">Web Services
                        <option value="/reference/dir.webmasterskills1.html">Webmaster
                        <option value="/reference/dir.y2k1.html">Y2K
                        <option value="">-----------
                        <option value="/reference/whatsnew.html">New Arrivals
                        </SELECT>
						</font>
			
		</td>
		</tr>
	</table>
	</form>
	
<!-- LEFT NAV SEARCH END -->

<table border="0" cellspacing="0" cellpadding="0">
	<tr>
		<td>
<a href="/desktop/"><img src="/images/desktop_icona.gif" border=0 alt="Go to ITKnowledge Enterprise"></a><br><br></td>
	</tr>
</table>

<!-- END LEFT NAVBAR -->



<!-- END LEFT NAVBAR -->
	
	<td width="15"><img src="/images/dotclear.gif" width="15" alt="" border="0"></td>

<!-- end of ITK left NAV -->

<!-- begin main content -->
	
	<td width="100%" valign="top" align="left">
		<br>

<!-- END SUB HEADER -->



674
<!-- Created by dB Page Builder.  http://www.pchelponline.com/bluestem -->

<!--Begin Content Column -->

<TABLE border=0 cellspacing=0 cellpadding=0>
<tr>
<td width=75 valign=top>
<img src="/images/sm_covers/067230886x.gif" width=60 height=73 alt="Oracle Performance Tuning and Optimization" border="1">
</td>
<td align="left">
    <font face="arial, helvetica" size="-1" color="#336633"><b>Oracle Performance Tuning and Optimization</b></font>
    <br>
    <font face="arial, helvetica" size="-1"><i>by Edward Whalen</i>
    <br>
    Sams,&nbsp;Macmillan Computer Publishing
    <br>
    <b>ISBN:</b>&nbsp;067230886x<b>&nbsp;&nbsp;&nbsp;Pub Date:</b>&nbsp;04/01/96</font>
</td>
</tr>
</table>
<P>
<FORM name= "search2" method="POST" action="http://ewsearch.earthweb.com:80/jsp/k2search/ewintrak2search.jsp" onSubmit=" return checkForQuery(this); ">
<INPUT type="hidden" name="collection" value="corpitk">
<INPUT type="hidden" name="altcoll" value="bookscorpitk">
<INPUT type="hidden" name="hl" value="on">
<INPUT name="sortspec" type=hidden value="score desc">
<INPUT name="fields" type=hidden value="vdkvgwkey score vstitle vsisbn vsauthor vspublisher vspubdate">
<INPUT name="imageprefix" type=hidden value="http://corpitk.earthweb.com">
<INPUT name="ssiFolder" type=hidden value="corpitk">
<INPUT type="hidden" name="bookid" value="corpitk.earthweb.comreferencepro067230886x">

<font face="arial, helvetica" size=2><b>Search this book:</b></font><br>
<INPUT NAME="query" size=25 VALUE="">&nbsp;<input type="image" width=28 height=23 border=0 value="Go" name="Go" src="/images/go.gif" align=absmiddle>

</form>


22 

<!-- Empty Reference Subhead -->
1000


<!--ISBN=067230886x//-->
<!--TITLE=Oracle Performance Tuning and Optimization//-->
<!--AUTHOR=Edward Whalen//-->
<!--PUBLISHER=Macmillan Computer Publishing//-->
<!--IMPRINT=Sams//-->
<!--APPENDIX=B//-->
<!--PAGES=595-602//-->
<!--UNASSIGNED1//-->
<!--UNASSIGNED2//-->

<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="ewtoc.html">Table of Contents</A></TD>
</TR>
</TABLE>
</CENTER>
<P><BR></P>
<H2><A NAME="Heading1"></A><FONT COLOR="#000077">Appendix B<BR>Quick Reference
</FONT></H2>
<P>This appendix contains quick summaries you can use to refresh your memory on some of the areas covered in this book.
</P>
<H3><A NAME="Heading2"></A><FONT COLOR="#000077">Oracle Instance Tuning</FONT></H3>
<P>This section reviews Oracle instance tuning: where to look for performance information in the dynamic performance tables as well as a review of tuning guidelines.
</P>
<H4 ALIGN="LEFT"><A NAME="Heading3"></A><FONT COLOR="#000077">Library Cache</FONT></H4>
<P>The V$LIBRARYCACHE table contains statistics on how well you are using the library cache. The important columns to view in this table are PINS and RELOADS:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%" VALIGN="TOP">PINS
<TD WIDTH="70%">The number of times the item in the library cache was executed.
<TR>
<TD VALIGN="TOP">RELOADS
<TD>The number of times the library cache missed and the library object was reloaded.
</TABLE>
</CENTER>
<!-- CODE SNIP //-->
<PRE>
     Cache Miss Rate = SUM(RELOADS)/SUM(PINS)
</PRE>
<!-- END CODE SNIP //-->
<P><FONT SIZE="+1"><B>SQL Statements</B></FONT></P>
<P><B>Total Miss Percent:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT SUM(reloads) "Cache Misses",
SUM(pins) "Executions",
100 * ( SUM(reloads) / SUM(pins) ) "Cache Miss Percent"
FROM v$librarycache;
</PRE>
<!-- END CODE SNIP //-->
<P><B>Individual Statistics:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT namespace,
reloads "Cache Misses",
pins "Executions"
FROM v$librarycache;
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading4"></A><FONT COLOR="#000077">Data Dictionary Cache</FONT></H4>
<P>Statistics for the data dictionary cache are stored in the dynamic performance table V$ROWCACHE (the data dictionary cache is sometimes known as the <I>row cache</I>). The important columns to view in this table are GETS and GETMISSES:</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%">GETS
<TD WIDTH="70%">The total number of requests for the particular item.
<TR>
<TD>GETMISSES
<TD>The total number of requests resulting in cache misses.
</TABLE>
</CENTER>
<!-- CODE SNIP //-->
<PRE>
     Cache Miss Rate = SUM(GETMISSES)/SUM(GETS)
</PRE>
<!-- END CODE SNIP //-->
<P><FONT SIZE="+1"><B>SQL Statements</B></FONT></P>
<P><B>Total Miss Percent:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT SUM(getmisses) "Cache Misses",
SUM(gets) "Requests",
100 * ( SUM(getmisses) / SUM(gets) ) "Cache Miss Percent"
FROM v$rowcache;
</PRE>
<!-- END CODE SNIP //-->
<P><B>Individual Statistics:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT parameter,
getmisses "Cache Misses",
gets "Requests"
FROM v$rowcache;
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading5"></A><FONT COLOR="#000077">Database Buffer Cache</FONT></H4>
<P>The statistics for the buffer cache are kept in the dynamic performance table V$SYSSTAT. The important columns to view in this table are PHYSICAL READS, DB BLOCK GETS, and CONSISTENT GETS:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%" VALIGN="TOP">PHYSICAL READS
<TD WIDTH="70%">The total number of requests that result in a disk access. This is a cache miss.
<TR>
<TD>DB BLOCK GETS
<TD>The number of requests for blocks in current mode.
<TR>
<TD VALIGN="TOP">CONSISTENT GETS
<TD>The number of requests for blocks in consistent mode. A consistent-mode request is one that is satisfied from a rollback record for consistency.
</TABLE>
</CENTER>
<!-- CODE SNIP //-->
<PRE>
     Cache Hit Ratio = 1 - PHYSICAL READS / ( DB BLOCK GETS &#43; CONSISTENT GETS )
</PRE>
<!-- END CODE SNIP //-->
<P>
1000
<FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Block Buffer Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT name, value
FROM v$sysstat
WHERE name IN ('db block gets', 'consistent gets', 'physical reads');
</PRE>
<!-- END CODE SNIP //-->
<P>Remember: <TT>DB Block Buffer Size = DB_BLOCK_BUFFERS * DB_BLOCK_SIZE</TT></P>
<H4 ALIGN="LEFT"><A NAME="Heading6"></A><FONT COLOR="#000077">Physical I/O Usage</FONT></H4>
<P>Information about disk accesses is kept in the dynamic performance table V$FILESTAT. Important information in this table is found in the following columns:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%">PHYRDS
<TD WIDTH="70%">The number of physical reads done to the data file.
<TR>
<TD>PHYWRTS
<TD>The number of physical writes done to the data file.
</TABLE>
</CENTER>
<P>The information in V$FILESTAT is referenced by file number. The dynamic performance table V$DATAFILE contains a reference to this number as well as this useful information:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%">NAME
<TD WIDTH="70%">The name of the data file.
<TR>
<TD>STATUS
<TD>The type of file and its current status.
<TR>
<TD>BYTES
<TD>The size of the data file.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>I/O Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT SUBSTR(name,1,40), phyrds, phywrts, status, bytes
FROM  v$datafile  df,  v$filestat  fs
WHERE df.file# = fs.file#;
</PRE>
<!-- END CODE SNIP //-->
<P>Remember that disks have certain inherent limitations that cannot be exceeded.
</P>
<P><FONT SIZE="+1"><B>Disk I/O Review</B></FONT></P>
<CENTER>
<TABLE WIDTH="90%">
<TR>
<TD WIDTH="30%" VALIGN="TOP">Sequential I/O
<TD WIDTH="70%">Data is written to or read from the disk in order; very little head movement occurs. Access to the redo log files is always sequential.
<TR>
<TD VALIGN="TOP">Random I/O
<TD>Data is accessed in different places on the disk; lots of head movement occurs. Access to the data files is almost always random. For database loads, access is sequential; in most other cases (especially OLTP), access patterns are almost always random.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>Disk I/O Rates</B></FONT></P>
<P>Remember these general limitations (and refer to Chapter 14, &#147;Advanced Disk I/O Concepts&#148;):
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%" VALIGN="TOP">Sequential I/O
<TD WIDTH="70%">A typical SCSI-II disk drive can support approximately 100 to 150 sequential I/Os per second.
<TR>
<TD VALIGN="TOP">Random I/O
<TD>A typical SCSI-II disk drive can support approximately 50 to 60 random I/Os per second.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>I/O Rules of Thumb</B></FONT></P>
<CENTER>
<TABLE WIDTH="90%">
<TR>
<TD WIDTH="40%" VALIGN="TOP">Isolate sequential I/Os
<TD WIDTH="60%">Because sequential I/Os can occur at a much higher rate, isolating them lets you run these drives much faster.
<TR>
<TD VALIGN="TOP">Spread out random I/Os
<TD>You can accomplish this goal by striping table data using Oracle striping, OS striping, or hardware striping.
<TR>
<TD VALIGN="TOP">Separate data and indexes
<TD>By separating a heavily used table from its index, you allow a query to a table to access data and indexes on separate disks simultaneously.
<TR>
<TD VALIGN="TOP">Reduce non-Oracle I/O
<TD>Eliminate non-Oracle disk I/O from disks that contain database files. Any other disk I/O slows down Oracle&#146;s access to these disks.
</TABLE>
</CENTER>
<H4 ALIGN="LEFT"><A NAME="Heading7"></A><FONT COLOR="#000077">Chained Rows</FONT></H4>
<P>You can check for chained rows with the <TT>ANALYZE</TT> command&#146;s <TT>LIST CHAINED ROWS</TT> option. Use these SQL statements to check for chained or migrated rows:</P>
<!-- CODE //-->
<PRE>
Rem Create the Chained Rows Table
Rem
CREATE TABLE chained_rows (
owner_name    varchar2(30),
table_name    varchar2(30),
cluster_name  varchar2(30),
head_rowid    rowid,
timestamp     date);
Rem
Rem Analyze the Table in Question
Rem
A
1000
NALYZE
    TABLE scott.emp LIST CHAINED ROWS;
Rem
Rem Check the Results
Rem
SELECT * from chained_rows;
</PRE>
<!-- END CODE //-->
<H4 ALIGN="LEFT"><A NAME="Heading8"></A><FONT COLOR="#000077">Recursive Calls</FONT></H4>
<P>You can check the number of recursive calls through the dynamic performance table V$SYSSTAT. Use the following command:
</P>
<!-- CODE SNIP //-->
<PRE>
SELECT name, value
FROM v$SYSSTAT
WHERE name = 'recursive calls';
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading9"></A><FONT COLOR="#000077">Rollback Segment Contention</FONT></H4>
<P>You can tell whether you are seeing contention on rollback segments by looking at the dynamic performance table V$WAITSTAT. V$WAITSTAT contains the following data related to rollback segments:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="35%" VALIGN="TOP">UNDO HEADER
<TD WIDTH="65%">The number of waits for buffers containing rollback header blocks.
<TR>
<TD VALIGN="TOP">UNDO BLOCK
<TD>The number of waits for buffers containing rollback blocks other than header blocks.
<TR>
<TD VALIGN="TOP">SYSTEM UNDO HEADER
<TD>Same as UNDO HEADER for the SYSTEM rollback segment.
<TR>
<TD VALIGN="TOP">SYSTEM UNDO BLOCK
<TD>Same as UNDO BLOCK for the SYSTEM rollback segment.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Rollback Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT class, count
FROM V$WAITSTAT
WHERE class IN
('undo header', 'undo block', 'system undo header', 'system undo block');
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading10"></A><FONT COLOR="#000077">Dynamic Rollback Growth</FONT></H4>
<P>To determine whether dynamic growth of rollback segments is a problem, look in the dynamic performance table V$ROLLSTAT. The following columns are of particular interest:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%">EXTENTS
<TD WIDTH="70%">Number of rollback extents.
<TR>
<TD>RSSIZE
<TD>The size in bytes of the rollback segment.
<TR>
<TD>OPTSIZE
<TD>The size that the <TT>OPTIMAL</TT> parameter was set to.
<TR>
<TD VALIGN="TOP">AVEACTIVE
<TD>The current average size of active extents. Here <I>active extents</I> are extents with uncommitted transaction data.
<TR>
<TD VALIGN="TOP">AVESHRINK
<TD>The total size of free extents divided by the number of shrinks.
<TR>
<TD>EXTENDS
<TD>The number of times the rollback segment added an extent.
<TR>
<TD VALIGN="TOP">SHRINKS
<TD>The number of times the rollback segment shrank. This shrink may be one or more extents at a time.
<TR>
<TD VALIGN="TOP">HWMSIZE
<TD>The high-water mark of rollback segment size. This is the largest that the segment ever grew to be.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Rollback Dynamic Growth Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT substr(name, 1,40), extents, rssize, aveactive, aveshrink, extends, shrinks
FROM v$rollname rn, v$rollstat rs
WHERE rn.usn = rs.usn;
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading11"></A><FONT COLOR="#000077">Redo Log Buffer Contention</FONT></H4>
<P>Information concerning redo log buffer contention is stored in the dynamic performance table V$SYSSTAT as the value of the <I>redo log space requests</I> entry. If this number is not zero, it means that a process had to wait for space in the redo log buffer; you should increase its size. Check for this condition with the following SQL statement.</P>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Redo Log Buffer Contention Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT name, value
FROM v$sysstat
WHERE name = 'redo log space requests';
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading12"></A><FONT COLOR="#000077">Redo Latch Contention</FONT></H4>
<P>Latch contention can be determined by examining the dynamic performance table V$LATCH. The significant values are described here:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="45%" VALIGN="TOP">GETS
<TD WIDTH="55%">
e3d
<I>For willing-to-wait requests</I>. The number of successful requests.
<TR>
<TD VALIGN="TOP">MISSES
<TD><I>For willing-to-wait requests</I>. The number of times the initial request failed.
<TR>
<TD VALIGN="TOP">SLEEPS
<TD><I>For willing-to-wait requests</I>. The number of times subsequent requests failed.
<TR>
<TD VALIGN="TOP">IMMEDIATE_GETS
<TD><I>For immediate requests</I>. The number of successful requests.
<TR>
<TD VALIGN="TOP">IMMEDIATE_MISSES
<TD><I>For immediate requests</I>. The number of times the request failed.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Redo Latch Contention Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT SUBSTR(name,1,20), gets, misses, sleeps, immediate_gets, immediate_misses
FROM v$latch
WHERE name IN ('redo allocation', 'redo copy');
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading13"></A><FONT COLOR="#000077">Sort Performance</FONT></H4>
<P>One way to tell whether your sorts are occurring in memory or on disk is to look in the dynamic performance table V$SYSSTAT. The statistics of interest are give here:
</P>
<CENTER>
<TABLE WIDTH="90%"><TR>
<TD WIDTH="30%" VALIGN="TOP">sorts (memory)
<TD WIDTH="70%">The number of sorts that were able to fit in the in-memory sort area.
<TR>
<TD>sorts (disk)
<TD>The number of sorts that required temporary space on disk.
</TABLE>
</CENTER>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Sort Performance Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT name, value
FROM v$sysstat
WHERE name IN ('sorts (memory)', 'sorts (disk)');
</PRE>
<!-- END CODE SNIP //-->
<H4 ALIGN="LEFT"><A NAME="Heading14"></A><FONT COLOR="#000077">Free List Contention</FONT></H4>
<P>Contention on the free list can be determined by looking at the dynamic performance table V$WAITSTAT using the following SQL statement.
</P>
<P><FONT SIZE="+1"><B>SQL Statement</B></FONT></P>
<P><B>Free List Contention Information:</B></P>
<!-- CODE SNIP //-->
<PRE>
SELECT class, count
FROM v$waitstat
WHERE class = 'free list';
</PRE>
<!-- END CODE SNIP //-->
<P><BR></P>
<CENTER>
<TABLE BORDER>
<TR>
<TD><A HREF="ewtoc.html">Table of Contents</A></TD>
</TR>
</TABLE>
</CENTER>


<!-- all of the reference materials (books) have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- BEGIN SUB FOOTER -->
	<br>
	<img src="/images/dotclear.gif" width="5" height="7" border="0">
	</TD>
    </TR>
	</TABLE>
	
	<table width="100%" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width="160"><img src="/images/bot_curve.jpg" width="160" alt="" border="0"></td>
		<td align="left" valign="top" nowrap><a href="/"><img src="/images/top_tabs/home_bot.gif" alt="home" border="0"></a><a href="/content/corp.html"><img src="/images/top_tabs/subscribe_bot.gif" alt="subscribe" border="0"></a><a href="/search/"><img src="/images/top_tabs/search_bot.gif" alt="search" border="0"></a><a href="/faq/faq.html"><img src="/images/top_tabs/faq_bot.gif" alt="faq" border="0"></a><a href="/sitemap.html"><img src="/images/top_tabs/sitemap_bot.gif" alt="sitemap" border="0"></a><a href="/contactus.html"><img src="/images/top_tabs/contact_us_bot.gif" alt="contactus" border="0"></a><img src="/images/dotclear.gif" width=260 height="1" alt="" border="0"></td> 
	</tr>
	</table>
		
	<table width="100%" bgcolor="#003366" border=0 cellpadding=0 cellspacing=0>
	<tr>
		<td align="left" width=145><img src="/images/clear_pixel.gif" width=145 height="1" alt="" border="0"></td>
				
<!-- END SUB FOOTER -->


6fc
<!-- all of the books have the footer and subfoot reveresed -->
<!-- reference_subfoot = footer -->
<!-- reference_footer = subfoot -->

<!-- FOOTER -->
			
<td align="left" bgcolor="#003366">
<table border="0" cellspacing="10" cellpadding="5">
<tr>
<td align="center">
<font face="arial, helvetica" size="1" color="#cccccc"><b><a href="/products.html"><font color="#0099CC">Products</font></a>&nbsp;|&nbsp; <a href="/contactus.html"><font color="#0099CC">Contact Us</font></a>&nbsp;|&nbsp; <a href="/aboutus.html"><font color="#0099CC">About Us</font></a>&nbsp;|&nbsp; <a href="http://www.earthweb.com/dlink.corp|privacy-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">Privacy</font></a> &nbsp;|&nbsp; <a href="http://www.itmarketer.com/" target="resource window"><font color="#0099CC">Ad Info</font></a> &nbsp;|&nbsp; <a href="/"><font color="#0099CC">Home</font></a></b>
<br><br>Use of this site is subject to certain <a href="/agreement.html"><font color="#0099CC">Terms &amp; Conditions</font></a>, <a href="/copyright.html"><font color="#0099CC">Copyright &copy; 1996-2000 EarthWeb Inc.</font></a> All rights reserved.  Reproduction whole or in part in any form or medium without express written <a href="http://www.earthweb.com/dlink.corp|permissions-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">permission</font></a> of EarthWeb is prohibited. Read EarthWeb's <A HREF="http://www.earthweb.com/dlink.corp|privacy-jhtml.72.0.-.-.jhtml" target="resource window"><font color="#0099CC">privacy</font></A> statement.</font><br><br>
</td>
</tr>
</table>

<a href="CITK1a2b3c4d5e6f7g8h9idefcon4.html">
<img src="/images/dotclear.gif" border="0" height="1" width="1" align="left"></a>
</td>
		</tr>
</table>
</BODY>
</HTML>

<!-- END FOOTER -->
4  



0

